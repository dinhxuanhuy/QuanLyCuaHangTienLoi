using System;
using System.Drawing;
using System.Windows.Forms;
using Guna.UI2.WinForms;

namespace QuanLyCuaHangTienLoi
{
    /// <summary>
    /// Example: Cách sử dụng ModernUITheme và Extensions
    /// File này chứa các ví dụ về cách apply theme mới cho controls
    /// </summary>
    public partial class ExampleModernUI : UserControl
    {
        public ExampleModernUI()
        {
            InitializeComponent();
            ApplyModernTheme();
        }
        
        /// <summary>
        /// VÍ DỤ 1: Apply theme cho buttons
        /// </summary>
        private void ApplyButtonStyles()
        {
            // Primary button (Blue) - Cho actions chính
            var btnSave = new Guna2Button();
            btnSave.Text = "Lưu";
            btnSave.ApplyPrimaryStyle();
            // hoặc manual:
            btnSave.FillColor = ModernUITheme.Blue.Primary;
            btnSave.HoverState.FillColor = ModernUITheme.Blue.Hover;
            
            // Success button (Green) - Cho confirmed actions
            var btnConfirm = new Guna2Button();
            btnConfirm.Text = "Xác nhận";
            btnConfirm.ApplySuccessStyle();
            
            // Danger button (Red) - Cho delete actions
            var btnDelete = new Guna2Button();
            btnDelete.Text = "Xóa";
            btnDelete.ApplyDangerStyle();
            
            // Warning button (Amber)
            var btnWarning = new Guna2Button();
            btnWarning.Text = "Cảnh báo";
            btnWarning.ApplyWarningStyle();
            
            // Secondary button (Outline)
            var btnCancel = new Guna2Button();
            btnCancel.Text = "Hủy";
            btnCancel.ApplySecondaryStyle();
        }
        
        /// <summary>
        /// VÍ DỤ 2: Tạo card với shadow
        /// </summary>
        private Guna2Panel CreateModernCard()
        {
            var card = new Guna2Panel();
            card.Size = new Size(300, 200);
            card.ApplyCardStyle(); // Apply default white card
            
            // hoặc với custom color
            card.ApplyCardStyle(ModernUITheme.Blue.Light);
            
            return card;
        }
        
        /// <summary>
        /// VÍ DỤ 3: Style cho labels
        /// </summary>
        private void ApplyLabelStyles()
        {
            // Page title
            var lblTitle = new Label();
            lblTitle.Text = "Quản Lý Sản Phẩm";
            lblTitle.ApplyPageTitleStyle();
            // Size: 22pt, Bold, Color: Dark Gray
            
            // Section title
            var lblSection = new Label();
            lblSection.Text = "Thông tin chi tiết";
            lblSection.ApplySectionTitleStyle();
            // Size: 16pt, Bold
            
            // Subtitle/Description
            var lblDesc = new Label();
            lblDesc.Text = "Nhập thông tin sản phẩm mới";
            lblDesc.ApplySubtitleStyle();
            // Size: 11pt, Regular, Gray
            
            // Caption
            var lblCaption = new Label();
            lblCaption.Text = "* Trường bắt buộc";
            lblCaption.ApplyCaptionStyle();
            // Size: 9pt, Light Gray
        }
        
        /// <summary>
        /// VÍ DỤ 4: Modern TextBox
        /// </summary>
        private void ApplyTextBoxStyles()
        {
            var txtInput = new Guna2TextBox();
            txtInput.ApplyModernStyle();
            txtInput.PlaceholderText = "Nhập tên sản phẩm";
            
            // Search box
            var txtSearch = new Guna2TextBox();
            txtSearch.ApplySearchStyle();
        }
        
        /// <summary>
        /// VÍ DỤ 5: Modern DataGridView
        /// </summary>
        private void ApplyDataGridViewStyle()
        {
            var dgv = new Guna2DataGridView();
            dgv.ApplyModernStyle();
            
            // Kết quả:
            // - Header màu blue với text trắng
            // - Rows có alternating colors
            // - Border clean và minimal
            // - Selection màu blue nhạt
        }
        
        /// <summary>
        /// VÍ DỤ 6: Tạo dashboard card với statistics
        /// </summary>
        private Guna2Panel CreateStatCard(string title, string value, string icon, Color color)
        {
            var card = new Guna2Panel();
            card.Size = new Size(260, 150);
            card.ApplyCardStyle();
            
            // Icon
            var lblIcon = new Label
            {
                Text = icon,
                Font = new Font("Segoe UI", 32F, FontStyle.Bold),
                ForeColor = color,
                Location = new Point(20, 20),
                AutoSize = true
            };
            
            // Value (số liệu)
            var lblValue = new Label
            {
                Text = value,
                Font = ModernUITheme.CreateFont(24F, FontStyle.Bold),
                ForeColor = ModernUITheme.Gray.TextPrimary,
                Location = new Point(90, 30),
                AutoSize = true
            };
            
            // Title
            var lblTitle = new Label
            {
                Text = title,
                Font = ModernUITheme.CreateFont(11F),
                ForeColor = ModernUITheme.Gray.TextSecondary,
                Location = new Point(90, 60),
                AutoSize = true
            };
            
            // Trend indicator
            var lblTrend = new Label
            {
                Text = "↑ +12%",
                Font = ModernUITheme.CreateFont(10F, FontStyle.Bold),
                ForeColor = ModernUITheme.Green.Primary,
                Location = new Point(90, 85),
                AutoSize = true
            };
            
            card.Controls.AddRange(new Control[] { lblIcon, lblValue, lblTitle, lblTrend });
            
            return card;
        }
        
        /// <summary>
        /// VÍ DỤ 7: Sidebar navigation button
        /// </summary>
        private Guna2Button CreateSidebarButton(string text, Image icon)
        {
            var btn = new Guna2Button
            {
                Text = "   " + text,
                Image = icon,
                ImageAlign = HorizontalAlignment.Left,
                ImageSize = new Size(24, 24),
                TextAlign = HorizontalAlignment.Left,
                Padding = new Padding(20, 0, 0, 0),
                Size = new Size(280, 65),
                Dock = DockStyle.Top,
                
                // Style
                Animated = true,
                BorderRadius = 10,
                ButtonMode = Guna.UI2.WinForms.Enums.ButtonMode.RadioButton,
                FillColor = Color.Transparent,
                ForeColor = ModernUITheme.Dark.Text,
                Font = ModernUITheme.CreateFont(11F, FontStyle.Bold),
                
                // Hover
                HoverState = { FillColor = ModernUITheme.Dark.Secondary },
                
                // Checked (Active)
                CheckedState = 
                { 
                    FillColor = ModernUITheme.Blue.Primary,
                    ForeColor = Color.White
                }
            };
            
            return btn;
        }
        
        /// <summary>
        /// VÍ DỤ 8: Custom colors
        /// </summary>
        private void UseCustomColors()
        {
            // Sử dụng màu từ theme
            var panel = new Panel
            {
                BackColor = ModernUITheme.Gray.Background
            };
            
            var label = new Label
            {
                ForeColor = ModernUITheme.Gray.TextPrimary
            };
            
            var button = new Guna2Button
            {
                FillColor = ModernUITheme.Green.Primary,
                HoverState = { FillColor = ModernUITheme.Green.Hover }
            };
            
            // Tùy chỉnh màu
            var customColor = ModernUITheme.WithAlpha(ModernUITheme.Blue.Primary, 128); // 50% opacity
            var lighterBlue = ModernUITheme.Lighten(ModernUITheme.Blue.Primary, 0.2f); // Sáng hơn 20%
            var darkerBlue = ModernUITheme.Darken(ModernUITheme.Blue.Primary, 0.2f);   // Tối hơn 20%
        }
        
        /// <summary>
        /// VÍ DỤ 9: Hover effects
        /// </summary>
        private void AddHoverEffects()
        {
            var panel = new Panel();
            panel.AddHoverEffect(
                ModernUITheme.Gray.Surface,      // Normal color
                ModernUITheme.Gray.Hover         // Hover color
            );
            
            // Panel sẽ tự động đổi màu khi hover và đổi cursor thành hand
        }
        
        /// <summary>
        /// VÍ DỤ 10: Spacing và layout
        /// </summary>
        private void ApplySpacing()
        {
            var panel = new Panel
            {
                Padding = new Padding(ModernUITheme.Spacing.XLarge), // 30px
                Margin = new Padding(ModernUITheme.Spacing.Large)    // 20px
            };
            
            var flowPanel = new FlowLayoutPanel
            {
                Padding = new Padding(0, ModernUITheme.Spacing.CardGap, 0, 0)
            };
        }
        
        /// <summary>
        /// VÍ DỤ 11: Complete card layout
        /// </summary>
        private Guna2Panel CreateCompleteCard()
        {
            var card = new Guna2Panel();
            card.ApplyCardStyle();
            card.Size = new Size(340, 230);
            
            // Icon at top
            var lblIcon = new Label
            {
                Text = "📦",
                Font = new Font("Segoe UI", 36F, FontStyle.Bold),
                ForeColor = ModernUITheme.Green.Primary,
                Location = new Point(0, 10),
                Size = new Size(340, 70),
                TextAlign = ContentAlignment.MiddleCenter
            };
            
            // Title
            var lblTitle = new Label
            {
                Text = "Sản phẩm",
                Location = new Point(0, 85),
                Size = new Size(340, 30),
                TextAlign = ContentAlignment.MiddleCenter
            };
            lblTitle.ApplySectionTitleStyle();
            
            // Description
            var lblDesc = new Label
            {
                Text = "Quản lý thông tin sản phẩm",
                Location = new Point(25, 120),
                Size = new Size(290, 45),
                TextAlign = ContentAlignment.TopCenter
            };
            lblDesc.ApplySubtitleStyle();
            
            // Button
            var btn = new Guna2Button
            {
                Text = "Quản lý",
                Location = new Point(25, 175),
                Size = new Size(290, 40)
            };
            btn.ApplySuccessStyle();
            
            card.Controls.AddRange(new Control[] { lblIcon, lblTitle, lblDesc, btn });
            
            return card;
        }
        
        /// <summary>
        /// Apply tất cả styles cho UserControl này
        /// </summary>
        private void ApplyModernTheme()
        {
            // Background
            this.BackColor = ModernUITheme.Gray.Background;
            
            // Có thể gọi các method trên để setup các controls
            // ApplyButtonStyles();
            // ApplyLabelStyles();
            // etc.
        }
        
        /// <summary>
        /// BONUS: Quick reference cho màu sắc
        /// </summary>
        private void ColorReference()
        {
            /*
             * PRIMARY COLORS:
             * - Blue.Primary    : #3B82F6 - Actions chính
             * - Green.Primary   : #10B981 - Success
             * - Red.Primary     : #EF4444 - Danger
             * - Amber.Primary   : #F59E0B - Warning
             * - Purple.Primary  : #8B5CF6 - AI/Premium
             * - Pink.Primary    : #EC4899 - Promotions
             * 
             * NEUTRAL COLORS:
             * - Gray.Background : #F9FAFB - Page background
             * - Gray.Surface    : #FFFFFF - Card/Panel background
             * - Gray.Border     : #E5E7EB - Borders
             * - Dark.Primary    : #1E293B - Sidebar
             * - Dark.Darker     : #111827 - Logo area
             * 
             * TEXT COLORS:
             * - Gray.TextPrimary   : #1F2937 - Main text
             * - Gray.TextSecondary : #6B7280 - Secondary text
             * - Gray.TextTertiary  : #9CA3AF - Hints
             * - Gray.TextLight     : #D1D5DB - Disabled
             * 
             * FONT SIZES:
             * - PageTitle     : 22pt Bold
             * - SectionTitle  : 16pt Bold
             * - CardTitle     : 14pt Bold
             * - Body          : 11pt Regular
             * - BodySmall     : 10pt Regular
             * - Caption       : 9pt Regular
             * 
             * SPACING:
             * - XSmall  : 4px
             * - Small   : 8px
             * - Medium  : 12px
             * - Large   : 20px
             * - XLarge  : 30px
             * - XXLarge : 40px
             * 
             * BORDER RADIUS:
             * - Small   : 6px
             * - Medium  : 8px
             * - Large   : 10px
             * - XLarge  : 15px
             * - Round   : 50px (circular)
             */
        }
    }
}
